<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>02 Python常用数据结构与算法 | coo1heisenberg's Blog</title><noscript>开启JavaScript才能访问本站哦~</noscript><link rel="icon" href="/img/pwa/favicon.ico"><!-- index.css--><link rel="stylesheet" href="/css/index.css?v=1.10.6"><!-- inject head--><link rel="stylesheet" href="https://cdn2.codesign.qq.com/icons/7pOrz0WXB5ZWJPX/latest/iconfont.css"><!-- aplayer--><link rel="stylesheet" href="//open.lightxi.com/cdnjs/ajax/libs/aplayer/1.10.1/APlayer.min.css"><!-- swiper--><link rel="stylesheet" href="//open.lightxi.com/cdnjs/ajax/libs/Swiper/11.0.5/swiper-bundle.min.css"><!-- fancybox ui--><!-- katex--><link rel="stylesheet" href="//open.lightxi.com/cdnjs/ajax/libs/KaTeX/0.16.9/katex.min.css"><!-- Open Graph--><meta name="description" content="Python常用数据结构与算法 栈 Python代码定义： 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950 class Stack: def _"><!-- pwa--><meta name="apple-mobile-web-app-capable" content="coo1heisenberg's Blog"><meta name="theme-color" content="var(--efu-main)"><meta name="apple-mobile-web-app-status-bar-style" content="var(--efu-main)"><link rel="bookmark" href="/img/pwa/favicon.ico"><link rel="apple-touch-icon" href="/img/pwa/favicon.ico" sizes="180x180"><script>console.log(
    "%c Program: Hexo %c Theme: Solitude %c Version: v1.10.6",
    "border-radius:5px 0 0 5px;padding: 5px 10px;color:white;background:#ff3842;",
    "padding: 5px 10px;color:white;background:#3e9f50;",
    "padding: 5px 10px;color:white;background:#0084ff;border-radius:0 5px 5px 0",
)
</script><script>(()=>{
        const saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay
                }
                localStorage.setItem(key, JSON.stringify(item))
            },
            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)
    
                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()
    
                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        };
        window.utils = {
            saveToLocal: saveToLocal,
            getCSS: (url, id = false) => new Promise((resolve, reject) => {
              const link = document.createElement('link')
              link.rel = 'stylesheet'
              link.href = url
              if (id) link.id = id
              link.onerror = reject
              link.onload = link.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                link.onload = link.onreadystatechange = null
                resolve()
              }
              document.head.appendChild(link)
            }),
            getScript: (url, attr = {}) => new Promise((resolve, reject) => {
              const script = document.createElement('script')
              script.src = url
              script.async = true
              script.onerror = reject
              script.onload = script.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                script.onload = script.onreadystatechange = null
                resolve()
              }
    
              Object.keys(attr).forEach(key => {
                script.setAttribute(key, attr[key])
              })
    
              document.head.appendChild(script)
            }),
            addGlobalFn: (key, fn, name = false, parent = window) => {
                const globalFn = parent.globalFn || {}
                const keyObj = globalFn[key] || {}
        
                if (name && keyObj[name]) return
        
                name = name || Object.keys(keyObj).length
                keyObj[name] = fn
                globalFn[key] = keyObj
                parent.globalFn = globalFn
            },
        }
    })()</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: {"preload":false,"path":"/search.xml"},
    runtime: '2024-05-12 00:00:00',
    lazyload: {
        enable: false,
        error: '/img/error_load.webp'
    },
    copyright: {"limit":50,"author":"作者: Coo1heisenberg’s BLOG","link":"链接: ","source":"来源: coo1heisenberg's Blog","info":"著作权归作者所有。 商业转载请联系作者获得授权，非商业转载请注明出处。"},
    highlight: {
        enable: true,
        limit: 200,
        expand: true,
        copy: true,
        syntax: 'highlight.js'
    },
    randomlink: false,
    lang: {"theme":{"dark":"已切换至深色模式","light":"已切换至浅色模式"},"copy":{"success":"复制成功","error":"复制失败"},"backtop":"返回顶部","time":{"day":"天前","hour":"小时前","just":"刚刚","min":"分钟前","month":"个月前"},"f12":"开发者模式已打开，请遵循GPL协议。","totalk":"无需删除空行，直接输入评论即可","search":{"empty":"找不到你查询的内容：${query}","hit":"找到 ${hits} 条结果，用时 ${time} 毫秒","placeholder":"输入关键词快速查找","count":"共 <b>${count}</b> 条结果。"}},
    aside: {
        sayhello: {
            morning: '一日之计在于晨',
            noon: '吃饱了才有力气干活',
            afternoon: '集中精力，攻克难关',
            night: '不要太劳累了，早睡更健康',
            goodnight: '睡个好觉，保证精力充沛',
        },
        sayhello2: [],
    },
    covercolor: {
        enable: false
    },
    comment: false,
    lightbox: 'null',
    post_ai: false,
    right_menu: false,
};</script><!-- page-config head--><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: '',
    toc: true,
    comment: false,
    ai_text: false
}</script><meta name="generator" content="Hexo 7.2.0"></head><body id="body"><!-- universe--><canvas id="universe"></canvas><!-- loading--><!-- console--><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="solitude st-close-fill"></i></div><div class="console-card-group"><div class="console-card-group-right"><div class="console-card tags" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">标签</div><div class="author-content-item-title">寻找感兴趣的领域</div></div><div class="card-tag-cloud"><a href="/tags/%E7%94%9F%E4%BF%A1%E5%9F%BA%E7%A1%80/">生信基础<sup>1</sup></a><a href="/tags/Docker%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">Docker基础语法<sup>1</sup></a><a href="/tags/JavaEE/">JavaEE<sup>6</sup></a><a href="/tags/Nginx%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">Nginx基础语法<sup>1</sup></a><a href="/tags/Python%E9%AB%98%E7%BA%A7/">Python高级<sup>2</sup></a><a href="/tags/Spring/">Spring<sup>6</sup></a><a href="/tags/%E5%89%91%E6%8C%87offer/">剑指offer<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式<sup>1</sup></a><a href="/tags/MyBatis-Plus/">MyBatis-Plus<sup>1</sup></a><a href="/tags/Linux%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">Linux基础语法<sup>1</sup></a><a href="/tags/Python%E5%9F%BA%E7%A1%80/">Python基础<sup>4</sup></a><a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务<sup>1</sup></a><a href="/tags/Leetcode/">Leetcode<sup>1</sup></a></div></div><div class="console-card history" onclick="sco.hideConsole()"><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">2024/06</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">2024/05</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">22</span><span class="card-archive-list-count-unit">篇</span></div></a></li></ul></div></div></div><div class="button-group"><div class="console-btn-item"><span class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="昼夜切换"><i class="solitude st-moon-clear-fill"></i></span></div><div class="console-btn-item" id="consoleHideAside"><span class="asideSwitch" onclick="sco.switchHideAside()" title="边栏显示控制"><i class="solitude st-side-bar-fill"></i></span></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a></div></div></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="solitude st-moon-clear-fill"></i><span>显示模式</span></span></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">博客主题</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/valor-x/hexo-theme-solitude" title="Solitude"><img class="nolazyload back-menu-item-icon" src="https://7.isyangs.cn/1/65eb200ee4dea-1.png" alt="Solitude"><span class="back-menu-item-text">Solitude</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文库</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  st-folder-fill"></i><span>文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  st-checkbox-multiple-blank-fill"></i><span>全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  st-price-tag-fill"></i><span>全部标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/links/"><i class="solitude  st-group-fill"></i><span>友情链接</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/tlink/"><i class="solitude  st-tools-fill"></i><span>工具箱</span></a></li><li><a class="site-page child" href="/music/"><i class="solitude  st-disc-fill"></i><span>音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="solitude  st-contacts-fill"></i><span>关于本站</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"><a href="/tags/%E7%94%9F%E4%BF%A1%E5%9F%BA%E7%A1%80/">生信基础<sup>1</sup></a><a href="/tags/Docker%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">Docker基础语法<sup>1</sup></a><a href="/tags/JavaEE/">JavaEE<sup>6</sup></a><a href="/tags/Nginx%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">Nginx基础语法<sup>1</sup></a><a href="/tags/Python%E9%AB%98%E7%BA%A7/">Python高级<sup>2</sup></a><a href="/tags/Spring/">Spring<sup>6</sup></a><a href="/tags/%E5%89%91%E6%8C%87offer/">剑指offer<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式<sup>1</sup></a><a href="/tags/MyBatis-Plus/">MyBatis-Plus<sup>1</sup></a><a href="/tags/Linux%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">Linux基础语法<sup>1</sup></a><a href="/tags/Python%E5%9F%BA%E7%A1%80/">Python基础<sup>4</sup></a><a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务<sup>1</sup></a><a href="/tags/Leetcode/">Leetcode<sup>1</sup></a></div></div></div></div><!-- keyboard--><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon solitude st-more-fill"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">博客主题</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/valor-x/hexo-theme-solitude" title="Solitude"><img class="nolazyload back-menu-item-icon" src="https://7.isyangs.cn/1/65eb200ee4dea-1.png" alt="Solitude"><span class="back-menu-item-text">Solitude</span></a></div></div></div></div><a id="site-name" href="/" title="返回博客主页"><span class="title">Solitude</span></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">02 Python常用数据结构与算法</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文库</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  st-folder-fill"></i><span>文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  st-checkbox-multiple-blank-fill"></i><span>全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  st-price-tag-fill"></i><span>全部标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/links/"><i class="solitude  st-group-fill"></i><span>友情链接</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/tlink/"><i class="solitude  st-tools-fill"></i><span>工具箱</span></a></li><li><a class="site-page child" href="/music/"><i class="solitude  st-disc-fill"></i><span>音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="solitude  st-contacts-fill"></i><span>关于本站</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="travellings_button"><a class="site-page" href="/" title=""><i class="solitude st-train-line"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索"><i class="solitude st-search-line"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="solitude st-arrow-up-line"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="solitude st-menu-line"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/python.png" alt="02 Python常用数据结构与算法"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="该文章为原创文章，注意版权协议">原创</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/Python/">Python</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python%E5%9F%BA%E7%A1%80/"><span class="tags-name tags-punctuation">Python基础</span></a></div></div></div></div><h1 class="post-title">02 Python常用数据结构与算法</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="发布于 2024-06-05 14:03:58"><i class="post-meta-icon solitude st-calendar-todo-fill"></i><time datetime="2024-06-05T06:03:58.000Z">2024-06-05T06:03:58.000Z</time></span><span class="post-meta-date" title="最后更新于 2024-06-11 16:34:25"><i class="post-meta-icon solitude st-refresh-line"></i><time datetime="2024-06-11T08:34:25.622Z">2024-06-11T08:34:25.622Z</time></span><span class="post-meta-wordcount"><span class="post-meta-separator"></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>Python常用数据结构与算法</h1>
<hr>
<h2 id="栈"><a class="headerlink" href="#栈"></a>栈</h2>
<hr>
<ul>
<li>
<p>Python代码定义：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">class</span> <span class="title class_">Stack</span>:</span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">          self.stack = []  <span class="comment"># 使用列表实现</span></span><br><span class="line">  </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">push</span>(<span class="params">self, ele</span>):</span><br><span class="line">          self.stack.append(ele)</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">pop</span>(<span class="params">self</span>):</span><br><span class="line">          <span class="keyword">return</span> self.stack.pop()</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">top</span>(<span class="params">self</span>):</span><br><span class="line">          <span class="keyword">if</span> self.empty():</span><br><span class="line">              <span class="keyword">return</span> <span class="string">&quot;stack is empty&quot;</span></span><br><span class="line">          <span class="keyword">return</span> self.stack[-<span class="number">1</span>]  <span class="comment"># 切片，获取列表末尾元素</span></span><br><span class="line">  </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">empty</span>(<span class="params">self</span>):</span><br><span class="line">          <span class="keyword">return</span> self.stack == []</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">size</span>(<span class="params">self</span>):</span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">len</span>(self.stack)</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 队列</span></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">- Python代码定义：</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  <span class="comment"># 循环队列</span></span><br><span class="line">  <span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># 增删查改</span></span><br><span class="line">  queue = deque([<span class="string">&quot;Eric&quot;</span>, <span class="string">&quot;John&quot;</span>, <span class="string">&quot;Michael&quot;</span>])</span><br><span class="line">  queue.append(<span class="string">&#x27;luke&#x27;</span>)</span><br><span class="line">  <span class="built_in">print</span>(queue)</span><br><span class="line">  <span class="comment"># deque([&#x27;Eric&#x27;, &#x27;John&#x27;, &#x27;Michael&#x27;, &#x27;luke&#x27;])</span></span><br><span class="line">  </span><br><span class="line">  <span class="built_in">print</span>(queue.popleft())  <span class="comment"># 左边出队</span></span><br><span class="line">  <span class="comment"># Eric</span></span><br><span class="line">  </span><br><span class="line">  <span class="built_in">print</span>(queue)</span><br><span class="line">  <span class="comment"># deque([&#x27;John&#x27;, &#x27;Michael&#x27;, &#x27;luke&#x27;])</span></span><br><span class="line">  </span><br><span class="line">  queue[<span class="number">0</span>] = <span class="string">&#x27;xiongda&#x27;</span></span><br><span class="line">  <span class="built_in">print</span>(queue[<span class="number">0</span>])</span><br><span class="line">  <span class="comment"># xiongda</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>判断循环队列 满：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(rear + <span class="number">1</span>) % MaxSize == front</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>判断循环队列 空：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rear == front</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="二叉树"><a class="headerlink" href="#二叉树"></a>二叉树</h2>
<ul>
<li>
<p>二叉树的节点的定义</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;节点类&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, elem=-<span class="number">1</span>, lchild=<span class="literal">None</span>, rchild=<span class="literal">None</span></span>):</span><br><span class="line">        self.elem = elem</span><br><span class="line"></span><br><span class="line">        self.lchild = lchild</span><br><span class="line">        self.rchild = rchild</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>二叉树的建树</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Tree</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.root = <span class="literal">None</span></span><br><span class="line">        self.queue = []  <span class="comment"># 创建一个辅助队列</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 层序遍历建树</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insert_node</span>(<span class="params">self, elem</span>):</span><br><span class="line">        new_node = Node(elem)  <span class="comment"># 对新节点进行初始化</span></span><br><span class="line">        self.queue.append(new_node)  <span class="comment"># 放入队列</span></span><br><span class="line">        <span class="keyword">if</span> self.root <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            self.root = new_node  <span class="comment"># 树为空，new_node就为树根</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> self.queue[<span class="number">0</span>].lchild <span class="keyword">is</span> <span class="literal">None</span>:  <span class="comment"># 判断左孩子是否为空</span></span><br><span class="line">                self.queue[<span class="number">0</span>].lchild = new_node</span><br><span class="line">            <span class="keyword">elif</span> self.queue[<span class="number">0</span>].rchild <span class="keyword">is</span> <span class="literal">None</span>:  <span class="comment"># 判断右孩子是否为空</span></span><br><span class="line">                self.queue[<span class="number">0</span>].rchild = new_node</span><br><span class="line">                self.queue.pop(<span class="number">0</span>)  <span class="comment"># 出队</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 先序遍历</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">preorder</span>(<span class="params">self, current_node: Node</span>):  <span class="comment"># current_node: Node 指定current_node类型</span></span><br><span class="line">        <span class="keyword">if</span> current_node <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="built_in">print</span>(current_node.elem, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">            self.preorder(current_node.lchild)</span><br><span class="line">            self.preorder(current_node.rchild)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 中序遍历</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">midorder</span>(<span class="params">self, current_node: Node</span>):  <span class="comment"># current_node: Node 指定current_node类型</span></span><br><span class="line">        <span class="keyword">if</span> current_node <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            self.midorder(current_node.lchild)</span><br><span class="line">            <span class="built_in">print</span>(current_node.elem, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">            self.midorder(current_node.rchild)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 后序遍历</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">postorder</span>(<span class="params">self, current_node: Node</span>):  <span class="comment"># current_node: Node 指定current_node类型</span></span><br><span class="line">        <span class="keyword">if</span> current_node <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            self.postorder(current_node.lchild)</span><br><span class="line">            self.postorder(current_node.rchild)</span><br><span class="line">            <span class="built_in">print</span>(current_node.elem, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    tree = Tree()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">        tree.insert_node(i)</span><br><span class="line"></span><br><span class="line">    tree.preorder(tree.root)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">    tree.midorder(tree.root)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">    tree.postorder(tree.root)</span><br><span class="line">    </span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1 2 4 8 9 5 10 3 6 7 </span></span><br><span class="line"><span class="string">8 4 9 2 10 5 1 6 3 7 </span></span><br><span class="line"><span class="string">8 9 4 10 5 2 6 7 3 1 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="排序算法"><a class="headerlink" href="#排序算法"></a>排序算法</h2>
<p><a target="_blank" rel="noopener" href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html?tdsourcetag=s_pcqq_aiomsg">数据结构可视化 (usfca.edu)</a></p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240605154654644.png" alt="排序算法的时间复杂度对比" loading="lazy"></p>
<h3 id="冒泡排序"><a class="headerlink" href="#冒泡排序"></a>冒泡排序</h3>
<ul>
<li>i 很大，内层循环从前象后比，把最大的冒泡放到最后，i 不断减小，最终达到有序</li>
</ul>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240605161708409.png" alt="冒泡排序流程" loading="lazy"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 冒泡排序</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bubble_sort_for</span>(<span class="params">self</span>):</span><br><span class="line">    arr = self.arr</span><br><span class="line">    n = self.arr_len</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i):</span><br><span class="line">            <span class="keyword">if</span> arr[j] &gt; arr[i]:</span><br><span class="line">                arr[j], arr[i] = arr[i], arr[j]</span><br><span class="line">                </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bubble_sort_while</span>(<span class="params">self</span>):</span><br><span class="line">    arr = self.arr</span><br><span class="line">    i = self.arr_len - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &gt; <span class="number">0</span>:</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> j &lt; i:</span><br><span class="line">            <span class="keyword">if</span> arr[j] &gt; arr[j + <span class="number">1</span>]:</span><br><span class="line">                arr[j], arr[j + <span class="number">1</span>] = arr[j + <span class="number">1</span>], arr[j]</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        i -= <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="选择排序"><a class="headerlink" href="#选择排序"></a>选择排序</h3>
<ul>
<li>min_pos 记录最小的，每一轮比较知道最小的是谁，放到最前面，i 变大，最终达到有序</li>
</ul>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240605161737679.png" alt="选择排序流程" loading="lazy"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选择排序</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">select_sort</span>(<span class="params">self</span>):</span><br><span class="line">    arr = self.arr</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.arr_len - <span class="number">1</span>):</span><br><span class="line">        min_pos = i</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, self.arr_len):</span><br><span class="line">            <span class="keyword">if</span> arr[min_pos] &gt; arr[j]:</span><br><span class="line">                min_pos = j</span><br><span class="line">        arr[i], arr[min_pos] = arr[min_pos], arr[i]  <span class="comment"># Python特有的两数交换</span></span><br></pre></td></tr></table></figure>
<h3 id="插入排序"><a class="headerlink" href="#插入排序"></a>插入排序</h3>
<ul>
<li>把前面数据作为有序序列，后面的数不断的插入到前面的有序序列中</li>
</ul>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240605162506285.png" alt="插入排序流程" loading="lazy"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 插入排序</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">insert_sort</span>(<span class="params">self</span>):</span><br><span class="line">    arr = self.arr</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; self.arr_len:  <span class="comment"># 外层控制要插入的数</span></span><br><span class="line">        insert_val = arr[i]</span><br><span class="line">        j = i - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> j &gt;= <span class="number">0</span> <span class="keyword">and</span> arr[j] &gt; insert_val:</span><br><span class="line">            arr[j + <span class="number">1</span>] = arr[j]</span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        arr[j + <span class="number">1</span>] = insert_val</span><br><span class="line">        i += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="希尔排序"><a class="headerlink" href="#希尔排序"></a>希尔排序</h3>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240605184329105.png" alt="希尔排序流程" loading="lazy"></p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240605184400039.png" alt loading="lazy"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 希尔排序</span></span><br><span class="line"><span class="comment"># 写插入排序，换gap</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">shell_sort</span>(<span class="params">self</span>):</span><br><span class="line">    arr = self.arr</span><br><span class="line">    <span class="comment"># 最外层循环控制步长</span></span><br><span class="line">    gap = self.arr_len &gt;&gt; <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> gap &gt; <span class="number">0</span>:</span><br><span class="line">        i = gap  <span class="comment"># 第一个要插入的数的位置</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; self.arr_len:  <span class="comment"># 外层控制要插入的数</span></span><br><span class="line">            insert_val = arr[i]</span><br><span class="line">            j = i - gap</span><br><span class="line">            <span class="keyword">while</span> j &gt;= <span class="number">0</span> <span class="keyword">and</span> arr[j] &gt; insert_val:</span><br><span class="line">                arr[j + gap] = arr[j]</span><br><span class="line">                j -= gap</span><br><span class="line">            arr[j + gap] = insert_val</span><br><span class="line">            i += <span class="number">1</span>  <span class="comment"># 只有这一个地方不是 gap</span></span><br><span class="line">        gap &gt;&gt;= <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="快速排序"><a class="headerlink" href="#快速排序"></a>快速排序</h3>
<ul>
<li>分治思想，一轮比较，把小的数放到左边，大的数放到右边，分割值已经排好，递归左边的</li>
</ul>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240605185706774.png" alt="快速排序流程" loading="lazy"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 快速排序</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">partition</span>(<span class="params">self, left, right</span>):</span><br><span class="line">    arr = self.arr</span><br><span class="line">    k = left</span><br><span class="line">    i = left</span><br><span class="line">    <span class="keyword">while</span> i &lt; right:</span><br><span class="line">        <span class="keyword">if</span> arr[i] &lt; arr[right]:  <span class="comment"># k始终指向要存放比分割值小的下标</span></span><br><span class="line">            arr[i], arr[k] = arr[k], arr[i]</span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    arr[k], arr[right] = arr[right], arr[k]</span><br><span class="line">    <span class="keyword">return</span> k</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">quick_sort</span>(<span class="params">self, left, right</span>):</span><br><span class="line">    <span class="keyword">if</span> left &lt; right:</span><br><span class="line">        pivot = self.partition(left, right)</span><br><span class="line">        self.quick_sort(left, pivot - <span class="number">1</span>)  <span class="comment"># 排左边一半</span></span><br><span class="line">        self.quick_sort(pivot + <span class="number">1</span>, right)  <span class="comment"># 排右边一般</span></span><br></pre></td></tr></table></figure>
<h3 id="堆排序"><a class="headerlink" href="#堆排序"></a>堆排序</h3>
<img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240606121122289.png" alt="堆排序流程（上）" style="zoom:80%;">
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240606121235562.png" alt="堆排序流程（下）" loading="lazy"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 大根堆</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">adjust_max_heap</span>(<span class="params">self, dad, arr_len</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    将某棵子树调整为大根堆</span></span><br><span class="line"><span class="string">    :param dad:</span></span><br><span class="line"><span class="string">    :param arr_len:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    arr = self.arr</span><br><span class="line">    son = <span class="number">2</span> * dad + <span class="number">1</span>  <span class="comment"># 找到左孩子的位置</span></span><br><span class="line">    <span class="keyword">while</span> son &lt; arr_len:</span><br><span class="line">        <span class="comment"># 拿左孩子和右孩子进行比较</span></span><br><span class="line">        <span class="keyword">if</span> son + <span class="number">1</span> &lt; arr_len <span class="keyword">and</span> arr[son + <span class="number">1</span>] &gt; arr[son]:</span><br><span class="line">            son += <span class="number">1</span>  <span class="comment"># 准备拿右孩子跟父亲比，如果不成立，还是拿左孩子跟父亲比</span></span><br><span class="line">        <span class="keyword">if</span> arr[son] &gt; arr[dad]:  <span class="comment"># 一旦发生交换，孩子变为父亲，继续调整</span></span><br><span class="line">            arr[son], arr[dad] = arr[dad], arr[son]</span><br><span class="line">            dad = son</span><br><span class="line">            son = dad * <span class="number">2</span> + <span class="number">1</span>  <span class="comment"># 重新往下判断</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line"><span class="comment"># 堆排序</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">heap_sort</span>(<span class="params">self</span>):</span><br><span class="line">    arr = self.arr</span><br><span class="line">    <span class="comment"># range 是左闭右开的，后面那个是步长</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.arr_len // <span class="number">2</span> - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">        self.adjust_max_heap(i, self.arr_len)</span><br><span class="line">    <span class="comment"># 交换根部元素和数组的第一个元素</span></span><br><span class="line">    arr[<span class="number">0</span>], arr[self.arr_len - <span class="number">1</span>] = arr[self.arr_len - <span class="number">1</span>], arr[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># 数组长度减少，每次都调整大根堆</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.arr_len - <span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">        self.adjust_max_heap(<span class="number">0</span>, i)  <span class="comment"># 这里的i表示数组有几个元素</span></span><br><span class="line">        arr[i - <span class="number">1</span>], arr[<span class="number">0</span>] = arr[<span class="number">0</span>], arr[i - <span class="number">1</span>]  <span class="comment"># 顶端元素和最末端元素交换</span></span><br></pre></td></tr></table></figure>
<h3 id="归并排序"><a class="headerlink" href="#归并排序"></a>归并排序</h3>
<ul>
<li>数组一分为二，把low到mid递归变为有序，把mid+1到high递归变为有序，通过merge合并两个有序数组</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 归并排序</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">self, low, mid, high</span>):</span><br><span class="line">    temp_arr = self.temp_arr</span><br><span class="line">    arr = self.arr</span><br><span class="line">    temp_arr[low: high + <span class="number">1</span>] = arr[low: high + <span class="number">1</span>]</span><br><span class="line">    i = low</span><br><span class="line">    j = mid + <span class="number">1</span></span><br><span class="line">    k = low</span><br><span class="line">    <span class="comment"># 合并两个有序数组</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= mid <span class="keyword">and</span> j &lt;= high:</span><br><span class="line">        <span class="keyword">if</span> temp_arr[i] &lt; temp_arr[j]:</span><br><span class="line">            arr[k] = temp_arr[i]</span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> temp_arr[i] &gt; temp_arr[j]:</span><br><span class="line">            arr[k] = temp_arr[j]</span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="comment"># 某一个剩余的比较多</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= mid:</span><br><span class="line">        arr[k] = temp_arr[i]</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j &lt;= high:</span><br><span class="line">        arr[k] = temp_arr[j]</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 归并排序不限制是二路归并</span></span><br><span class="line"><span class="comment"># low high 就是数组的下标</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">merge_sort</span>(<span class="params">self, low, high</span>):</span><br><span class="line">    <span class="keyword">if</span> low &lt; high:</span><br><span class="line">        <span class="comment"># 递归分割</span></span><br><span class="line">        mid = (low + high) // <span class="number">2</span></span><br><span class="line">        self.merge_sort(low, mid)  <span class="comment"># 递归到最后就是一个单独的元素，下层也是一个单独的元素</span></span><br><span class="line">        self.merge_sort(mid + <span class="number">1</span>, high)</span><br><span class="line">        self.merge(low, mid, high)  <span class="comment"># 合并两个有序数组</span></span><br></pre></td></tr></table></figure>
<h3 id="计数排序"><a class="headerlink" href="#计数排序"></a>计数排序</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计数排序</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">count_sort</span>(<span class="params">self</span>):</span><br><span class="line">    count = [<span class="number">0</span>] * self.boundary</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    arr = self.arr</span><br><span class="line">    <span class="keyword">while</span> i &lt; self.arr_len:</span><br><span class="line">        count[arr[i]] += <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="comment"># 回填到原数组</span></span><br><span class="line">    k = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.boundary):</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> j &lt; count[i]:  <span class="comment"># count[i]记录了i数值出现了多少次</span></span><br><span class="line">            arr[k] = i</span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">            j += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="排序算法的时间比较"><a class="headerlink" href="#排序算法的时间比较"></a>排序算法的时间比较</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySort</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, list_len</span>):</span><br><span class="line">        self.arr = []  <span class="comment"># 列表</span></span><br><span class="line">        self.arr_len = list_len  <span class="comment"># 列表的长度</span></span><br><span class="line">        self.temp_arr = [<span class="number">0</span>] * self.arr_len</span><br><span class="line">        self.boundary = <span class="number">99</span>  <span class="comment"># 数据范围</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 生成随机数</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">random_int</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.arr_len):</span><br><span class="line">            self.arr.append(random.randint(<span class="number">0</span>, self.boundary - <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 冒泡排序</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">bubble_sort_for</span>(<span class="params">self</span>):</span><br><span class="line">        arr = self.arr</span><br><span class="line">        n = self.arr_len</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i):</span><br><span class="line">                <span class="keyword">if</span> arr[j] &gt; arr[i]:</span><br><span class="line">                    arr[j], arr[i] = arr[i], arr[j]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">bubble_sort_while</span>(<span class="params">self</span>):</span><br><span class="line">        arr = self.arr</span><br><span class="line">        i = self.arr_len - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &gt; <span class="number">0</span>:</span><br><span class="line">            j = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> j &lt; i:</span><br><span class="line">                <span class="keyword">if</span> arr[j] &gt; arr[j + <span class="number">1</span>]:</span><br><span class="line">                    arr[j], arr[j + <span class="number">1</span>] = arr[j + <span class="number">1</span>], arr[j]</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            i -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 选择排序</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">select_sort</span>(<span class="params">self</span>):</span><br><span class="line">        arr = self.arr</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.arr_len - <span class="number">1</span>):</span><br><span class="line">            min_pos = i</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, self.arr_len):</span><br><span class="line">                <span class="keyword">if</span> arr[min_pos] &gt; arr[j]:</span><br><span class="line">                    min_pos = j</span><br><span class="line">            arr[i], arr[min_pos] = arr[min_pos], arr[i]  <span class="comment"># Python特有的两数交换</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 插入排序</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insert_sort</span>(<span class="params">self</span>):</span><br><span class="line">        arr = self.arr</span><br><span class="line">        i = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; self.arr_len:  <span class="comment"># 外层控制要插入的数</span></span><br><span class="line">            insert_val = arr[i]</span><br><span class="line">            j = i - <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> j &gt;= <span class="number">0</span> <span class="keyword">and</span> arr[j] &gt; insert_val:</span><br><span class="line">                arr[j + <span class="number">1</span>] = arr[j]</span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            arr[j + <span class="number">1</span>] = insert_val</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 希尔排序</span></span><br><span class="line">    <span class="comment"># 写插入排序，换gap</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">shell_sort</span>(<span class="params">self</span>):</span><br><span class="line">        arr = self.arr</span><br><span class="line">        <span class="comment"># 最外层循环控制步长</span></span><br><span class="line">        gap = self.arr_len &gt;&gt; <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> gap &gt; <span class="number">0</span>:</span><br><span class="line">            i = gap  <span class="comment"># 第一个要插入的数的位置</span></span><br><span class="line">            <span class="keyword">while</span> i &lt; self.arr_len:  <span class="comment"># 外层控制要插入的数</span></span><br><span class="line">                insert_val = arr[i]</span><br><span class="line">                j = i - gap</span><br><span class="line">                <span class="keyword">while</span> j &gt;= <span class="number">0</span> <span class="keyword">and</span> arr[j] &gt; insert_val:</span><br><span class="line">                    arr[j + gap] = arr[j]</span><br><span class="line">                    j -= gap</span><br><span class="line">                arr[j + gap] = insert_val</span><br><span class="line">                i += <span class="number">1</span>  <span class="comment"># 只有这一个地方不是 gap</span></span><br><span class="line">            gap &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 快速排序</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">partition</span>(<span class="params">self, left, right</span>):</span><br><span class="line">        arr = self.arr</span><br><span class="line">        k = left</span><br><span class="line">        i = left</span><br><span class="line">        <span class="keyword">while</span> i &lt; right:</span><br><span class="line">            <span class="keyword">if</span> arr[i] &lt; arr[right]:  <span class="comment"># k始终指向要存放比分割值小的下标</span></span><br><span class="line">                arr[i], arr[k] = arr[k], arr[i]</span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        arr[k], arr[right] = arr[right], arr[k]</span><br><span class="line">        <span class="keyword">return</span> k</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">quick_sort</span>(<span class="params">self, left, right</span>):</span><br><span class="line">        <span class="keyword">if</span> left &lt; right:</span><br><span class="line">            pivot = self.partition(left, right)</span><br><span class="line">            self.quick_sort(left, pivot - <span class="number">1</span>)  <span class="comment"># 排左边一半</span></span><br><span class="line">            self.quick_sort(pivot + <span class="number">1</span>, right)  <span class="comment"># 排右边一般</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">adjust_max_heap</span>(<span class="params">self, dad, arr_len</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        将某棵子树调整为大根堆</span></span><br><span class="line"><span class="string">        :param dad:</span></span><br><span class="line"><span class="string">        :param arr_len:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        arr = self.arr</span><br><span class="line">        son = <span class="number">2</span> * dad + <span class="number">1</span>  <span class="comment"># 找到左孩子的位置</span></span><br><span class="line">        <span class="keyword">while</span> son &lt; arr_len:</span><br><span class="line">            <span class="comment"># 拿左孩子和右孩子进行比较</span></span><br><span class="line">            <span class="keyword">if</span> son + <span class="number">1</span> &lt; arr_len <span class="keyword">and</span> arr[son + <span class="number">1</span>] &gt; arr[son]:</span><br><span class="line">                son += <span class="number">1</span>  <span class="comment"># 准备拿右孩子跟父亲比，如果不成立，还是拿左孩子跟父亲比</span></span><br><span class="line">            <span class="keyword">if</span> arr[son] &gt; arr[dad]:  <span class="comment"># 一旦发生交换，孩子变为父亲，继续调整</span></span><br><span class="line">                arr[son], arr[dad] = arr[dad], arr[son]</span><br><span class="line">                dad = son</span><br><span class="line">                son = dad * <span class="number">2</span> + <span class="number">1</span>  <span class="comment"># 重新往下判断</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 堆排序</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">heap_sort</span>(<span class="params">self</span>):</span><br><span class="line">        arr = self.arr</span><br><span class="line">        <span class="comment"># range 是左闭右开的，后面那个是步长</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.arr_len // <span class="number">2</span> - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            self.adjust_max_heap(i, self.arr_len)</span><br><span class="line">        <span class="comment"># 交换根部元素和数组的第一个元素</span></span><br><span class="line">        arr[<span class="number">0</span>], arr[self.arr_len - <span class="number">1</span>] = arr[self.arr_len - <span class="number">1</span>], arr[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.arr_len - <span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            self.adjust_max_heap(<span class="number">0</span>, i)</span><br><span class="line">            arr[i - <span class="number">1</span>], arr[<span class="number">0</span>] = arr[<span class="number">0</span>], arr[i - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 归并排序</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">self, low, mid, high</span>):</span><br><span class="line">        temp_arr = self.temp_arr</span><br><span class="line">        arr = self.arr</span><br><span class="line">        temp_arr[low: high + <span class="number">1</span>] = arr[low: high + <span class="number">1</span>]</span><br><span class="line">        i = low</span><br><span class="line">        j = mid + <span class="number">1</span></span><br><span class="line">        k = low</span><br><span class="line">        <span class="keyword">while</span> i &lt;= mid <span class="keyword">and</span> j &lt;= high:</span><br><span class="line">            <span class="keyword">if</span> temp_arr[i] &lt; temp_arr[j]:</span><br><span class="line">                arr[k] = temp_arr[i]</span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> temp_arr[i] &gt; temp_arr[j]:</span><br><span class="line">                arr[k] = temp_arr[j]</span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">        <span class="comment"># 某一个剩余的比较多</span></span><br><span class="line">        <span class="keyword">while</span> i &lt;= mid:</span><br><span class="line">            arr[k] = temp_arr[i]</span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> j &lt;= high:</span><br><span class="line">            arr[k] = temp_arr[j]</span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">merge_sort</span>(<span class="params">self, low, high</span>):</span><br><span class="line">        <span class="keyword">if</span> low &lt; high:</span><br><span class="line">            mid = (low + high) // <span class="number">2</span></span><br><span class="line">            self.merge_sort(low, mid)</span><br><span class="line">            self.merge_sort(mid + <span class="number">1</span>, high)</span><br><span class="line">            self.merge(low, mid, high)  <span class="comment"># 合并两个有序数组</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计数排序</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">count_sort</span>(<span class="params">self</span>):</span><br><span class="line">        count = [<span class="number">0</span>] * self.boundary</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        arr = self.arr</span><br><span class="line">        <span class="keyword">while</span> i &lt; self.arr_len:</span><br><span class="line">            count[arr[i]] += <span class="number">1</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="comment"># 回填到原数组</span></span><br><span class="line">        k = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.boundary):</span><br><span class="line">            j = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> j &lt; count[i]:  <span class="comment"># count[i]记录了i数值出现了多少次</span></span><br><span class="line">                arr[k] = i</span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 选择测试的方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_sort</span>(<span class="params">self, sort_method, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.arr)</span><br><span class="line">        sort_method(*args, **kwargs)  <span class="comment"># 方法也可以传递</span></span><br><span class="line">        <span class="built_in">print</span>(self.arr)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 测试排序时间</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_sort_time</span>(<span class="params">self, sort_method, *args, **kwargs</span>):</span><br><span class="line">        start = time.time()</span><br><span class="line">        sort_method(*args, **kwargs)  <span class="comment"># 方法也可以传递</span></span><br><span class="line">        end = time.time()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;use time &#123;&#125;&quot;</span>.<span class="built_in">format</span>(end - start))  <span class="comment"># format不用关注前面的数据类型</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    tmpSort = MySort(<span class="number">10000</span>)</span><br><span class="line">    tmpSort.random_int()</span><br><span class="line">    <span class="comment"># tmpSort.test_sort(tmpSort.quick_sort, 0, tmpSort.arr_len - 1)  # 方法也可以传递</span></span><br><span class="line">    <span class="comment"># tmpSort.test_sort(tmpSort.merge_sort, 0, tmpSort.arr_len - 1)</span></span><br><span class="line">    tmpSort.test_sort_time(tmpSort.merge_sort, <span class="number">0</span>, tmpSort.arr_len - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">用递归都比较费时</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">bubble_sort：1.1773815155029297</span></span><br><span class="line"><span class="string">select_sort：1.2040174007415771</span></span><br><span class="line"><span class="string">insert_sort：1.4200668334960938</span></span><br><span class="line"><span class="string">shell_sort：0.016226530075073242</span></span><br><span class="line"><span class="string">quick_sort：0.026999711990356445</span></span><br><span class="line"><span class="string">heap_sort：0.017983436584472656</span></span><br><span class="line"><span class="string">merge_sort：</span></span><br><span class="line"><span class="string">count_sort：0.0010008811950683594</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607153132677.png" alt="备注" loading="lazy"></p>
<hr>
<h2 id="常见面试题"><a class="headerlink" href="#常见面试题"></a>常见面试题</h2>
<ol>
<li>
<p><strong>N 个无序数的数组，让找出第 K 大的数？</strong></p>
<ul>
<li>对前 K 个元素建立小根堆，遍历数组元素，发现比堆顶元素要大，淘汰堆顶元素，把这个元素放入堆顶，重新调整为小根堆，循环往复，到最后。时间复杂度为<code>O(NlogK)</code></li>
<li>也可以用快速排序，通过分隔值分为两块，把比分隔值小的那部分数删除掉，然后再快排比分隔值大的，循环往复，找到K个数。<code>O(N) -&gt; O(N/2) -&gt; O(N/4) -&gt; O(N/8) -&gt; O(N/16) ...</code></li>
</ul>
</li>
<li>
<p><strong>如果内存无法存储 K 个元素怎么办？</strong></p>
<ul>
<li>这是一个逆向思维的问题，假如内存可以存下 N-K+1 个元素，我们首先建立 N-K+1 元素的大根堆，这时依次遍历数组，如果发现某个元素小于堆顶，这时移除堆顶，将新元素放入，重新调整为大根堆，这时遍历到数组末尾，堆顶元素即为第 N-K+1 小的，所以也就是第 K 大的。</li>
</ul>
</li>
<li>
<p><strong>刚才找的第 K 大的元素是没有考虑重复元素的问题，现在要找的第 K 大是不含有重复元素的第 K 大？</strong></p>
<ul>
<li>
<p>建立小根堆时，重复的元素不放入，通过计数排序去重</p>
</li>
<li>
<p>位图是最快快的去重方法（采用空间换时间）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 位图去重</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BitMap</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.bitmap = <span class="number">0</span></span><br><span class="line">        self.arr = [<span class="number">9</span>, <span class="number">20</span>, <span class="number">17</span>, <span class="number">16</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">3</span>]</span><br><span class="line">        self.new_arr = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">duplicate_remove</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.arr:</span><br><span class="line">            <span class="keyword">if</span> self.bitmap &amp; <span class="number">1</span> &lt;&lt; i:  <span class="comment"># 按位 与</span></span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                self.new_arr.append(i)</span><br><span class="line">                self.bitmap |= <span class="number">1</span> &lt;&lt; i  <span class="comment"># 按位 或</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    bitmap = BitMap()</span><br><span class="line">    bitmap.duplicate_remove()</span><br><span class="line">    <span class="built_in">print</span>(bitmap.new_arr)</span><br><span class="line">    <span class="comment">#  [9, 20, 17, 16, 3, 4, 8, 2, 7]</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">按位与运算符（&amp;）</span></span><br><span class="line"><span class="string">运算规则：0 &amp; 0 = 0; 0 &amp; 1 = 0; 1 &amp; 0 = 0; 1 &amp; 1 = 1;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">按位或运算符（|）</span></span><br><span class="line"><span class="string">运算规则：0 | 0 = 0；0 | 1 = 1；1 | 0 = 1；1 | 1 = 1；</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">异或运算符（^）</span></span><br><span class="line"><span class="string">运算规则：0^0=0；   0^1=1；   1^0=1；   1^1=0；</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>字典树：用于字符串的去重</p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607185657937.png" alt="字典树介绍" loading="lazy"></p>
</li>
</ul>
</li>
<li>
<p><strong>如果单台机器的内存即不能存储 K 个元素，也无法存储 N-K 个元素，如何使用多机排序找出第 K 大的元素？</strong></p>
<ul>
<li>如果内存放不下，又不可以多机排序，这时只能使用外部排序，外部排序，首先是将数据切分为 k 块，每一块可以放入内存排序后，重新写回，然后针对 k 块数据采用多路归并（败者树的多路归并思想）
<ul>
<li>败者树（Loser Tree）是一种特殊的完全二叉树结构，主要用于选择算法和归并排序中。它的设计初衷是为了高效地从多个已排序序列中选择最小或最大元素</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>总计 25 匹马,5 条赛道,一匹马一个赛道,比赛只能得到 5 匹马之间的快慢程度,请问至少需要比几次，才能得到前三名</strong></p>
<ul>
<li>A 组：A1，A2，A3，A4，A5</li>
<li>B 组：B1，B2，B3，B4，B5</li>
<li>C 组：C1，C2，C3，C4，C5</li>
<li>D 组：D1，D2，D3，D4，D5</li>
<li>E 组：E1，E2，E3，E4，E5
<ul>
<li>假设每组的马的速度是 <strong>X1&gt;X2&gt;X3&gt;X4&gt;X5，(X= A,B,C…)</strong></li>
<li>首先每组的 5 匹马的比赛是避免不了的，根据每组的快慢且找出最快的前 3 匹马</li>
<li>再将每组的第一名：A1，B1，C1，D1，E1五匹马拿出来比赛，假设结果为：<strong>A1&gt;B1&gt;C1&gt;D1&gt;E1</strong>
<ul>
<li>A 组：<strong>A1，A2，A3</strong></li>
<li>B 组：<strong>B1，B2</strong>，B3</li>
<li>C 组：<strong>C1</strong>，C2，C3</li>
</ul>
</li>
<li>接下来把 <strong>A2，B1，A3，B2，C1</strong>。这五匹马再进行一场比赛即可确定全场第二与第三</li>
<li><strong>总共进行 7 场比赛可以确定最快的前三匹马</strong></li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h2 id="二分查找"><a class="headerlink" href="#二分查找"></a>二分查找</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">binary_search</span>(<span class="params">arr, target</span>):</span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = <span class="built_in">len</span>(arr) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">        mid = (left + right) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> arr[mid] &gt; target:</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> arr[mid] &lt; target:</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">    <span class="built_in">print</span>(binary_search(arr, <span class="number">3</span>))  <span class="comment"># 2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>二分查找的时间复杂度为 <code>O(logn)</code></li>
</ul>
<hr>
<h2 id="哈希查找"><a class="headerlink" href="#哈希查找"></a>哈希查找</h2>
<ul>
<li>
<p>用到一个列表，通过一个 F(x) 公式得到的一个下标值，必须是 0-999 之间 放到这个列表中</p>
</li>
<li>
<p>获取 ASCII 码值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&quot;a&quot;</span>))  <span class="comment"># 获得这个 a 的ASCII码为 97</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">elf_hash</span>(<span class="params">hash_str</span>):</span><br><span class="line">    h = <span class="number">0</span></span><br><span class="line">    g = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> hash_str:</span><br><span class="line">        h = (h &lt;&lt; <span class="number">4</span>) + <span class="built_in">ord</span>(i)</span><br><span class="line">        g = h &amp; <span class="number">0xf0000000</span></span><br><span class="line">        <span class="keyword">if</span> g:</span><br><span class="line">            h ^= g &gt;&gt; <span class="number">24</span></span><br><span class="line">        h &amp;= ~g</span><br><span class="line">    <span class="keyword">return</span> h % MAXKEY</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">use_hash</span>():</span><br><span class="line">    str_list = [<span class="string">&quot;xiongda&quot;</span>, <span class="string">&quot;lele&quot;</span>, <span class="string">&quot;hanmeimei&quot;</span>, <span class="string">&quot;wangdao&quot;</span>, <span class="string">&quot;fenghua&quot;</span>]  <span class="comment"># 要存储到哈希表的数据</span></span><br><span class="line">    hash_table = [<span class="literal">None</span>] * MAXKEY  <span class="comment"># 哈希表初始化</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> str_list:</span><br><span class="line">        <span class="keyword">if</span> hash_table[elf_hash(i)]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;哈希冲突&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            hash_table[elf_hash(i)] = i</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    use_hash()</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="sort-常用场景"><a class="headerlink" href="#sort-常用场景"></a>sort 常用场景</h2>
<h3 id="基本排序-Sorting-Basics"><a class="headerlink" href="#基本排序-Sorting-Basics"></a>基本排序 Sorting Basics</h3>
<ul>
<li>sort 函数是 list 列表中的函数，而 sorted 可以对 list 或者 iterator 进行排序</li>
<li>sort 和 sorted 的比较
<ul>
<li><strong>用</strong> <strong>sort</strong> <strong>函数对列表排序时会影响列表本身，而</strong> <strong>sorted</strong> <strong>不会</strong></li>
</ul>
</li>
</ul>
<p>eg：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">l = [<span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">sorted</span>(l)  <span class="comment"># l = [5, 2, 3, 1, 4]，不会发生改变</span></span><br><span class="line"></span><br><span class="line">l.sort()  <span class="comment"># l = [1, 2, 3, 4, 5]，会发生改变</span></span><br><span class="line"></span><br><span class="line">d = &#123;<span class="number">3</span>:<span class="string">&quot;D&quot;</span>, <span class="number">1</span>:<span class="string">&quot;A&quot;</span>, <span class="number">2</span>:<span class="string">&quot;C&quot;</span>, <span class="number">5</span>:<span class="string">&quot;B&quot;</span>, <span class="number">4</span>:<span class="string">&quot;E&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">sorted</span>(d)  <span class="comment"># [1, 2, 3, 4, 5]，只对key值进行排序</span></span><br></pre></td></tr></table></figure>
<h3 id="列表内存存储及列表的算法效率"><a class="headerlink" href="#列表内存存储及列表的算法效率"></a>列表内存存储及列表的算法效率</h3>
<table>
<thead>
<tr>
<th>列表的操作</th>
<th>时间复杂度</th>
</tr>
</thead>
<tbody>
<tr>
<td>index()</td>
<td><code>O(1)</code></td>
</tr>
<tr>
<td>append</td>
<td><code>O(1)</code></td>
</tr>
<tr>
<td>pop()</td>
<td><code>O(1)</code></td>
</tr>
<tr>
<td>pop(i)</td>
<td><code>O(n)</code></td>
</tr>
<tr>
<td>insert(i,item)</td>
<td><code>O(n)</code></td>
</tr>
<tr>
<td>del operator</td>
<td><code>O(n)</code></td>
</tr>
<tr>
<td>iteration</td>
<td><code>O(n)</code></td>
</tr>
<tr>
<td>contains(in)</td>
<td><code>O(n)</code></td>
</tr>
<tr>
<td>get slice[x:y]</td>
<td><code>O(k)</code></td>
</tr>
<tr>
<td>del slice</td>
<td><code>O(n)</code></td>
</tr>
<tr>
<td>set slice</td>
<td><code>O(n+k)</code></td>
</tr>
<tr>
<td>reverse</td>
<td><code>O(n)</code></td>
</tr>
<tr>
<td>concatenate</td>
<td><code>O(k)</code></td>
</tr>
<tr>
<td>sort</td>
<td><code>O(nlogn)</code></td>
</tr>
<tr>
<td>multiply (eg：[1, 2, 3] * 2，一般初始化用的比较多)</td>
<td><code>O(nk)</code></td>
</tr>
</tbody>
</table>
<h3 id="key-函数-Key-Functions"><a class="headerlink" href="#key-函数-Key-Functions"></a>key 函数 Key Functions</h3>
<ol>
<li>
<pre><code class="language-python">def sort_str():
    l = &quot;This is the first line in the Bible from Andrew&quot;.split()
    
    print(l)  
    # ['This', 'is', 'the', 'first', 'line', 'in', 'the', 'Bible', 'from', 'Andrew']
    
    print(sorted(l, key=str.lower))
    # ['Andrew', 'Bible', 'first', 'from', 'in', 'is', 'line', 'the', 'the', 'This']
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. ```python</span><br><span class="line">   def sort_list_tuple():</span><br><span class="line">       student_tuples = [</span><br><span class="line">           (&#x27;john&#x27;, &#x27;A&#x27;, 15),</span><br><span class="line">           (&#x27;jane&#x27;, &#x27;B&#x27;, 12),</span><br><span class="line">           (&#x27;dave&#x27;, &#x27;B&#x27;, 10),</span><br><span class="line">       ]</span><br><span class="line">   </span><br><span class="line">       print(sorted(student_tuples, key=lambda i: i[2]))</span><br><span class="line">       # 后面这个lambda中i是可以随便命名的</span><br><span class="line">       # i:i[2] 表示 i是每一个元组，i[2] 表示每一个元组的第二个元素</span><br><span class="line">       # [(&#x27;dave&#x27;, &#x27;B&#x27;, 10), (&#x27;jane&#x27;, &#x27;B&#x27;, 12), (&#x27;john&#x27;, &#x27;A&#x27;, 15)]</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
<li>
<pre><code class="language-python">class Student:
    def __init__(self, name, grade, age):
        self.name = name
        self.grade = grade
        self.age = age

    # 功能和之前的__str__差不多，但是比__str__更加灵活
    # 但是__repr__可以返回任何类型
    def __repr__(self):
        return repr((self.name, self.grade, self.age))


student_objects = [

    Student('john', 'A', 15),

    Student('jane', 'B', 12),

    Student('dave', 'B', 10), ]


# 排序的列表是自定义的object
def sort_list_object():
    print(sorted(student_objects, key=lambda stu: stu.age))

sort_list_object()

# [('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### operator 库函数自定义排序</span><br><span class="line"></span><br><span class="line">- operator 库提供了 itemgetter(), attrgetter(), and a methodcaller()三个函数</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">from operator import itemgetter, attrgetter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">student_objects = [</span><br><span class="line"></span><br><span class="line">    Student(&#x27;john&#x27;, &#x27;A&#x27;, 15),</span><br><span class="line"></span><br><span class="line">    Student(&#x27;jane&#x27;, &#x27;B&#x27;, 12),</span><br><span class="line"></span><br><span class="line">    Student(&#x27;dave&#x27;, &#x27;B&#x27;, 10), ]</span><br><span class="line"></span><br><span class="line">def use_operator():</span><br><span class="line">    student_tuples = [</span><br><span class="line">        (&#x27;john&#x27;, &#x27;A&#x27;, 15),</span><br><span class="line">        (&#x27;jane&#x27;, &#x27;B&#x27;, 12),</span><br><span class="line">        (&#x27;dave&#x27;, &#x27;B&#x27;, 10),</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    print(sorted(student_tuples, key=itemgetter(2)))</span><br><span class="line">    # [(&#x27;dave&#x27;, &#x27;B&#x27;, 10), (&#x27;jane&#x27;, &#x27;B&#x27;, 12), (&#x27;john&#x27;, &#x27;A&#x27;, 15)]</span><br><span class="line"></span><br><span class="line">    print(sorted(student_objects, key=attrgetter(&quot;age&quot;)))</span><br><span class="line">    # [(&#x27;dave&#x27;, &#x27;B&#x27;, 10), (&#x27;jane&#x27;, &#x27;B&#x27;, 12), (&#x27;john&#x27;, &#x27;A&#x27;, 15)]</span><br><span class="line">    </span><br><span class="line">    print(sorted(student_tuples, key=itemgetter(1, 2)))  </span><br><span class="line">    # itemgetter(1, 2)：先按第一个元素排，然后再按第二个元素排</span><br><span class="line">    </span><br><span class="line">    # [(&#x27;john&#x27;, &#x27;A&#x27;, 15), (&#x27;dave&#x27;, &#x27;B&#x27;, 10), (&#x27;jane&#x27;, &#x27;B&#x27;, 12)]</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">use_stability</span>():</span><br><span class="line">    l = [(<span class="string">&#x27;red&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;blue&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;red&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;blue&#x27;</span>, <span class="number">2</span>)]</span><br><span class="line">    l.sort(key=itemgetter(<span class="number">0</span>))</span><br><span class="line">    <span class="built_in">print</span>(l)</span><br><span class="line"></span><br><span class="line">use_stability()</span><br><span class="line"></span><br><span class="line"><span class="comment"># [(&#x27;blue&#x27;, 1), (&#x27;blue&#x27;, 2), (&#x27;red&#x27;, 1), (&#x27;red&#x27;, 2)]</span></span><br><span class="line"><span class="comment"># sort是稳定的</span></span><br></pre></td></tr></table></figure>
<h3 id="字典中混合-list-排序"><a class="headerlink" href="#字典中混合-list-排序"></a>字典中混合 list 排序</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">dict_list</span>():</span><br><span class="line">    mydict = &#123;<span class="string">&#x27;Li&#x27;</span>: [<span class="string">&#x27;M&#x27;</span>, <span class="number">7</span>],</span><br><span class="line">              <span class="string">&#x27;Zhang&#x27;</span>: [<span class="string">&#x27;E&#x27;</span>, <span class="number">2</span>],</span><br><span class="line">              <span class="string">&#x27;Wang&#x27;</span>: [<span class="string">&#x27;P&#x27;</span>, <span class="number">3</span>],</span><br><span class="line">              <span class="string">&#x27;Du&#x27;</span>: [<span class="string">&#x27;C&#x27;</span>, <span class="number">2</span>],</span><br><span class="line">              <span class="string">&#x27;Ma&#x27;</span>: [<span class="string">&#x27;C&#x27;</span>, <span class="number">9</span>],</span><br><span class="line">              <span class="string">&#x27;Zhe&#x27;</span>: [<span class="string">&#x27;H&#x27;</span>, <span class="number">7</span>]&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># mydict.items() 会把字典序变成一个个元组，然后将元组进行排序</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">sorted</span>(mydict.items(), key=<span class="keyword">lambda</span> item: item[<span class="number">1</span>][<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line">dict_list()</span><br><span class="line"><span class="comment"># [(&#x27;Zhang&#x27;, [&#x27;E&#x27;, 2]), (&#x27;Du&#x27;, [&#x27;C&#x27;, 2]), (&#x27;Wang&#x27;, [&#x27;P&#x27;, 3]), </span></span><br><span class="line"><span class="comment"># (&#x27;Li&#x27;, [&#x27;M&#x27;, 7]), (&#x27;Zhe&#x27;, [&#x27;H&#x27;, 7]), (&#x27;Ma&#x27;, [&#x27;C&#x27;, 9])]</span></span><br></pre></td></tr></table></figure>
<h3 id="List-中混合字典排序"><a class="headerlink" href="#List-中混合字典排序"></a>List 中混合字典排序</h3>
<p><strong>针对 list 中的字典元素按照 rating 和 name 进行排序的实现方法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> itemgetter</span><br><span class="line"></span><br><span class="line">gameresult = [</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;wins&quot;</span>: <span class="number">10</span>, <span class="string">&quot;losses&quot;</span>: <span class="number">3</span>, <span class="string">&quot;rating&quot;</span>: <span class="number">75.00</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;David&quot;</span>, <span class="string">&quot;wins&quot;</span>: <span class="number">3</span>, <span class="string">&quot;losses&quot;</span>: <span class="number">5</span>, <span class="string">&quot;rating&quot;</span>: <span class="number">57.00</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Carol&quot;</span>, <span class="string">&quot;wins&quot;</span>: <span class="number">4</span>, <span class="string">&quot;losses&quot;</span>: <span class="number">5</span>, <span class="string">&quot;rating&quot;</span>: <span class="number">57.00</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Patty&quot;</span>, <span class="string">&quot;wins&quot;</span>: <span class="number">9</span>, <span class="string">&quot;losses&quot;</span>: <span class="number">3</span>, <span class="string">&quot;rating&quot;</span>: <span class="number">71.48</span>&#125;]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(gameresult, key=itemgetter(<span class="string">&quot;rating&quot;</span>, <span class="string">&quot;name&quot;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [&#123;&#x27;name&#x27;: &#x27;Carol&#x27;, &#x27;wins&#x27;: 4, &#x27;losses&#x27;: 5, &#x27;rating&#x27;: 57.0&#125;, &#123;&#x27;name&#x27;: &#x27;David&#x27;, &#x27;wins&#x27;: 3, &#x27;losses&#x27;: 5, &#x27;rating&#x27;: 57.0&#125;, </span></span><br><span class="line"><span class="comment"># &#123;&#x27;name&#x27;: &#x27;Patty&#x27;, &#x27;wins&#x27;: 9, &#x27;losses&#x27;: 3, &#x27;rating&#x27;: 71.48&#125;, &#123;&#x27;name&#x27;: &#x27;Bob&#x27;, &#x27;wins&#x27;: 10, &#x27;losses&#x27;: 3, &#x27;rating&#x27;: 75.0&#125;]</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="红黑树"><a class="headerlink" href="#红黑树"></a>红黑树</h2>
<ul>
<li>红黑树（英语：Red–black tree）是一种自平衡二叉查找树</li>
<li><strong>红黑树相对于</strong> <strong>AVL</strong> <strong>树的时间复杂度是一样的，但是优势是当插入或者删除节点时，红黑树实际的调整次数更少，旋转次数更少，因此红黑树插入删除的效率高于</strong> <strong>AVL</strong> <strong>树，大量中间件产品中使用了红黑树</strong></li>
</ul>
<h3 id="红黑树的特点"><a class="headerlink" href="#红黑树的特点"></a>红黑树的特点</h3>
<ol>
<li><strong>节点</strong>是红色或黑色</li>
<li><strong>根</strong>是<strong>黑色</strong></li>
<li><strong>所有叶子节点</strong>都是<strong>黑色</strong>（叶子是 NIL 节点）</li>
<li><strong>每个红色节点必须有两个黑色的子节点。（从每个叶子到根的所有路径上不能有两个连续的红色节点）</strong></li>
<li><strong>从任一节点到其每个叶子的所有简单路径都包含相同数目的黑色节点</strong>
<ul>
<li>从根节点出发到任意一个节点的黑色节点数相同</li>
<li>口诀：左根右，根叶黑，黑路同，不红红</li>
</ul>
</li>
</ol>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607214210433.png" alt="红黑树举例" loading="lazy"></p>
<hr>
<h3 id="红黑树的插入"><a class="headerlink" href="#红黑树的插入"></a>红黑树的插入</h3>
<ul>
<li>
<p><strong>情形</strong> <strong>1：</strong> 新节点 N 位于树的根上，没有父节点，这种情况就是红黑树没有其他节点，<strong>只有根节点</strong>，那就直接标记会黑色，或者时经过调整后，红黑树的根节点被变为红色了，那就直接把它图为黑色。</p>
</li>
<li>
<p><strong>情形</strong> **2：**新节点的父节点 P 是黑色，所以性质 4 没有失效（新节点是红色的）。在这种情形下，树仍是有效的。性质 5 也未受到威胁，尽管新节点 N 有两个黑色叶子子节点；但由于新节点 N 是红色，通过它的每个子节点的路径就都有同通过它所取代的黑色的叶子的路径同样数目的黑色节点，所以依然满足这个性质</p>
</li>
<li>
<p><strong>情形</strong> <strong>3:<strong>如果</strong>父节点</strong> <strong>P</strong> <strong>和叔父节点</strong> <strong>U</strong> 二者都是红色</p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607215731996.png" alt="情形3" loading="lazy"></p>
</li>
<li>
<p><strong>情形</strong> **4:**父节点 P 是红色而叔父节点 U 是黑色或缺少，<strong>并且新节点</strong> <strong>N</strong> <strong>是其父节点</strong> <strong>P</strong> <strong>的右子节点而父节点</strong> <strong>P</strong> <strong>又是其父节点的左子节点</strong></p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607215839039.png" alt="情形4" loading="lazy"></p>
</li>
<li>
<p><strong>情形 5</strong>：父节点 P 是红色而叔父节点 U 是黑色或缺少，新节点 N 是其父节点的左子节点，而父节点 P 又是其父节点 G 的左子节点</p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607215927729.png" alt="情形5" loading="lazy"></p>
</li>
<li>
<p><strong>图形总结</strong></p>
</li>
</ul>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607215457187.png" alt="情形3、4、5" loading="lazy"></p>
<ul>
<li>
<p>针对<strong>情形四</strong>，叔叔不存在或者是黑色，就需要对父亲 P 进行相应的旋转，<strong>旋转后刚好变成了对应自己下方情形五</strong>的样子，然后再对爷爷 G 进行相应的旋转即可</p>
</li>
<li>
<p><strong>代码演示</strong></p>
<ul>
<li>
<p>红黑树的插入主要分成两步：</p>
<ol>
<li>先找到位置放入</li>
<li>调整</li>
</ol>
</li>
<li>
<p>定义红黑树节点</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义一个红黑树</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RedBlackTreeNode</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value</span>):</span><br><span class="line">        self.value = value</span><br><span class="line">        self.left = <span class="literal">None</span>  <span class="comment"># 当前节点的左孩子</span></span><br><span class="line">        self.right = <span class="literal">None</span>  <span class="comment"># 当前节点的右孩子</span></span><br><span class="line">        self.p = <span class="literal">None</span>  <span class="comment"># 当前节点的父亲</span></span><br><span class="line">        self.color = RED</span><br></pre></td></tr></table></figure>
</li>
<li>
<img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240611150625248.png" alt="红黑树的左旋" style="zoom:80%;">
<ul>
<li>
<p>代码实现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 红黑树的左旋</span></span><br><span class="line"><span class="comment"># node：要旋转的节点，对应图里的x</span></span><br><span class="line"><span class="comment"># tree：树根</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">left_rotate</span>(<span class="params">tree, node</span>):</span><br><span class="line">    <span class="comment"># 没有右孩子，就不用左旋了</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.right:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    node_right = node.right</span><br><span class="line">    node_right.p = node.p</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.p:  <span class="comment"># 如果node没有父亲，node就是根，右旋之后node_right是根</span></span><br><span class="line">        tree.root = node_right</span><br><span class="line">    <span class="keyword">elif</span> node == node.p.left:  <span class="comment"># node是在父亲的左边</span></span><br><span class="line">        node.p.left = node_right</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        node.p.right = node_right</span><br><span class="line">    <span class="keyword">if</span> node_right.left:</span><br><span class="line">        node_right.left.p = node</span><br><span class="line">    node.right = node_right.left</span><br><span class="line">    node.p = node_right</span><br><span class="line">    node_right.left = node</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240611150654985.png" alt="红黑树的右旋" style="zoom:70%;">
<ul>
<li>
<p>代码实现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 红黑树的右旋</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">right_rotate</span>(<span class="params">tree, node</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.left:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    node_left = node.left</span><br><span class="line">    node_left.p = node.p</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.p:</span><br><span class="line">        tree.root = node_left  <span class="comment"># 改变树根</span></span><br><span class="line">    <span class="keyword">elif</span> node == node.p.left:  <span class="comment"># node是父亲的左孩子</span></span><br><span class="line">        node.p.left = node_left</span><br><span class="line">    <span class="keyword">elif</span> node == node.p.right:  <span class="comment"># node是父亲的右孩子</span></span><br><span class="line">        node.p.right = node_left</span><br><span class="line">    <span class="keyword">if</span> node_left.right:</span><br><span class="line">        node_left.right.p = node</span><br><span class="line">    node.left = node_left.right</span><br><span class="line">    node.p = node_left</span><br><span class="line">    node_left.right = node</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>红黑树的调整 及插入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RedBlackTree</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.root: RedBlackTreeNode = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 放入二叉排序树</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insert</span>(<span class="params">self, node: RedBlackTreeNode</span>):</span><br><span class="line">        <span class="comment"># 如果树根为空</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.root:</span><br><span class="line">            self.root = node</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            x = self.root</span><br><span class="line">            <span class="keyword">while</span> x:  <span class="comment"># 当x为None时，y恰好是要放入的父亲</span></span><br><span class="line">                y = x</span><br><span class="line">                <span class="keyword">if</span> node.value &gt; x.value:</span><br><span class="line">                    x = x.right</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    x = x.left</span><br><span class="line">            node.p = y</span><br><span class="line">            <span class="keyword">if</span> node.value &gt; y.value:</span><br><span class="line">                y.right = node</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                y.left = node</span><br><span class="line">        self.insert_fixup(node)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 颜色调整以及 插入后的旋转</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insert_fixup</span>(<span class="params">self, node</span>):</span><br><span class="line">        parent: RedBlackTreeNode = node.p</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 父亲存在，且父亲是红色</span></span><br><span class="line">        <span class="keyword">while</span> parent <span class="keyword">and</span> parent.color == RED:</span><br><span class="line">            grandpa: RedBlackTreeNode = parent.p</span><br><span class="line">            <span class="keyword">if</span> parent == grandpa.left:</span><br><span class="line">                uncle: RedBlackTreeNode = grandpa.right</span><br><span class="line">                <span class="comment"># 判断情形3</span></span><br><span class="line">                <span class="keyword">if</span> uncle <span class="keyword">and</span> uncle.color == RED:</span><br><span class="line">                    parent.color = BLACK</span><br><span class="line">                    uncle.color = BLACK</span><br><span class="line">                    grandpa.color = RED</span><br><span class="line">                    node = grandpa  <span class="comment"># 爷爷重新作为孩子进行调整</span></span><br><span class="line">                    parent = node.p</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="comment"># 判断情形4</span></span><br><span class="line">                <span class="keyword">if</span> node == parent.right:</span><br><span class="line">                    left_rotate(self, parent)</span><br><span class="line">                    node, parent = parent, node</span><br><span class="line">                <span class="comment"># 情形4之后必做情形5</span></span><br><span class="line">                right_rotate(self, grandpa)</span><br><span class="line">                parent.color = BLACK</span><br><span class="line">                grandpa.color = RED</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                uncle: RedBlackTreeNode = grandpa.left</span><br><span class="line">                <span class="comment"># 判断情形3</span></span><br><span class="line">                <span class="keyword">if</span> uncle <span class="keyword">and</span> uncle.color == RED:</span><br><span class="line">                    parent.color = BLACK</span><br><span class="line">                    uncle.color = BLACK</span><br><span class="line">                    grandpa.color = RED</span><br><span class="line">                    node = grandpa  <span class="comment"># 爷爷重新作为孩子进行调整</span></span><br><span class="line">                    parent = node.p</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="comment"># 判断情形4</span></span><br><span class="line">                <span class="keyword">if</span> node == parent.left:</span><br><span class="line">                    right_rotate(self, parent)</span><br><span class="line">                    node, parent = parent, node</span><br><span class="line">                <span class="comment"># 情形4之后必做情形5</span></span><br><span class="line">                left_rotate(self, grandpa)</span><br><span class="line">                parent.color = BLACK</span><br><span class="line">                grandpa.color = RED</span><br><span class="line"></span><br><span class="line">        self.root.color = BLACK</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>整体代码汇总：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 红黑树 Python 实现</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 颜色常量</span></span><br><span class="line">RED = <span class="number">0</span></span><br><span class="line">BLACK = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个红黑树</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RedBlackTreeNode</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value</span>):</span><br><span class="line">        self.value = value</span><br><span class="line">        self.left = <span class="literal">None</span>  <span class="comment"># 当前节点的左孩子</span></span><br><span class="line">        self.right = <span class="literal">None</span>  <span class="comment"># 当前节点的右孩子</span></span><br><span class="line">        self.p = <span class="literal">None</span>  <span class="comment"># 当前节点的父亲</span></span><br><span class="line">        self.color = RED</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 红黑树的左旋</span></span><br><span class="line"><span class="comment"># node：要旋转的节点，对应图里的x</span></span><br><span class="line"><span class="comment"># tree：树根</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">left_rotate</span>(<span class="params">tree, node</span>):</span><br><span class="line">    <span class="comment"># 没有右孩子，就不用左旋了</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.right:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    node_right = node.right</span><br><span class="line">    node_right.p = node.p</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.p:  <span class="comment"># 如果node没有父亲，node就是根，右旋之后node_right是根</span></span><br><span class="line">        tree.root = node_right</span><br><span class="line">    <span class="keyword">elif</span> node == node.p.left:  <span class="comment"># node是在父亲的左边</span></span><br><span class="line">        node.p.left = node_right</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        node.p.right = node_right</span><br><span class="line">    <span class="keyword">if</span> node_right.left:</span><br><span class="line">        node_right.left.p = node</span><br><span class="line">    node.right = node_right.left</span><br><span class="line">    node.p = node_right</span><br><span class="line">    node_right.left = node</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 红黑树的右旋</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">right_rotate</span>(<span class="params">tree, node</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.left:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    node_left = node.left</span><br><span class="line">    node_left.p = node.p</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.p:</span><br><span class="line">        tree.root = node_left  <span class="comment"># 改变树根</span></span><br><span class="line">    <span class="keyword">elif</span> node == node.p.left:  <span class="comment"># node是父亲的左孩子</span></span><br><span class="line">        node.p.left = node_left</span><br><span class="line">    <span class="keyword">elif</span> node == node.p.right:  <span class="comment"># node是父亲的右孩子</span></span><br><span class="line">        node.p.right = node_left</span><br><span class="line">    <span class="keyword">if</span> node_left.right:</span><br><span class="line">        node_left.right.p = node</span><br><span class="line">    node.left = node_left.right</span><br><span class="line">    node.p = node_left</span><br><span class="line">    node_left.right = node</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RedBlackTree</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.root: RedBlackTreeNode = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 放入二叉排序树</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insert</span>(<span class="params">self, node: RedBlackTreeNode</span>):</span><br><span class="line">        <span class="comment"># 如果树根为空</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.root:</span><br><span class="line">            self.root = node</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            x = self.root</span><br><span class="line">            <span class="keyword">while</span> x:  <span class="comment"># 当x为None时，y恰好是要放入的父亲</span></span><br><span class="line">                y = x</span><br><span class="line">                <span class="keyword">if</span> node.value &gt; x.value:</span><br><span class="line">                    x = x.right</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    x = x.left</span><br><span class="line">            node.p = y</span><br><span class="line">            <span class="keyword">if</span> node.value &gt; y.value:</span><br><span class="line">                y.right = node</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                y.left = node</span><br><span class="line">        self.insert_fixup(node)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 颜色调整以及 插入后的旋转</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">insert_fixup</span>(<span class="params">self, node</span>):</span><br><span class="line">        parent: RedBlackTreeNode = node.p</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 父亲存在，且父亲是红色</span></span><br><span class="line">        <span class="keyword">while</span> parent <span class="keyword">and</span> parent.color == RED:</span><br><span class="line">            grandpa: RedBlackTreeNode = parent.p</span><br><span class="line">            <span class="keyword">if</span> parent == grandpa.left:</span><br><span class="line">                uncle: RedBlackTreeNode = grandpa.right</span><br><span class="line">                <span class="comment"># 判断情形3</span></span><br><span class="line">                <span class="keyword">if</span> uncle <span class="keyword">and</span> uncle.color == RED:</span><br><span class="line">                    parent.color = BLACK</span><br><span class="line">                    uncle.color = BLACK</span><br><span class="line">                    grandpa.color = RED</span><br><span class="line">                    node = grandpa  <span class="comment"># 爷爷重新作为孩子进行调整</span></span><br><span class="line">                    parent = node.p</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="comment"># 判断情形4</span></span><br><span class="line">                <span class="keyword">if</span> node == parent.right:</span><br><span class="line">                    left_rotate(self, parent)</span><br><span class="line">                    node, parent = parent, node</span><br><span class="line">                <span class="comment"># 情形4之后必做情形5</span></span><br><span class="line">                right_rotate(self, grandpa)</span><br><span class="line">                parent.color = BLACK</span><br><span class="line">                grandpa.color = RED</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                uncle: RedBlackTreeNode = grandpa.left</span><br><span class="line">                <span class="comment"># 判断情形3</span></span><br><span class="line">                <span class="keyword">if</span> uncle <span class="keyword">and</span> uncle.color == RED:</span><br><span class="line">                    parent.color = BLACK</span><br><span class="line">                    uncle.color = BLACK</span><br><span class="line">                    grandpa.color = RED</span><br><span class="line">                    node = grandpa  <span class="comment"># 爷爷重新作为孩子进行调整</span></span><br><span class="line">                    parent = node.p</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="comment"># 判断情形4</span></span><br><span class="line">                <span class="keyword">if</span> node == parent.left:</span><br><span class="line">                    right_rotate(self, parent)</span><br><span class="line">                    node, parent = parent, node</span><br><span class="line">                <span class="comment"># 情形4之后必做情形5</span></span><br><span class="line">                left_rotate(self, grandpa)</span><br><span class="line">                parent.color = BLACK</span><br><span class="line">                grandpa.color = RED</span><br><span class="line"></span><br><span class="line">        self.root.color = BLACK</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rbtree_print</span>(<span class="params">node, key, direction</span>):</span><br><span class="line">    <span class="keyword">if</span> node:</span><br><span class="line">        <span class="keyword">if</span> direction == <span class="number">0</span>:  <span class="comment"># tree 是根节点</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;%2d(B) is root&quot;</span> % node.value)</span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># tree 是分支节点</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;%2d(%s) is %2d&#x27;s %6s child&quot;</span> % (</span><br><span class="line">                node.value, (<span class="string">&quot;B&quot;</span> <span class="keyword">if</span> node.color == <span class="number">1</span> <span class="keyword">else</span> <span class="string">&quot;R&quot;</span>), key, (<span class="string">&quot;right&quot;</span> <span class="keyword">if</span> direction == <span class="number">1</span> <span class="keyword">else</span> <span class="string">&quot;left&quot;</span>)))</span><br><span class="line">        rbtree_print(node.left, node.value, -<span class="number">1</span>)</span><br><span class="line">        rbtree_print(node.right, node.value, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    number_list = (<span class="number">7</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">3</span>)</span><br><span class="line">    tree = RedBlackTree()</span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> number_list:</span><br><span class="line">        node = RedBlackTreeNode(number)</span><br><span class="line">        tree.insert(node)</span><br><span class="line">    rbtree_print(tree.root, tree.root.value, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> 4(B) is root</span></span><br><span class="line"><span class="string"> 2(B) is  4&#x27;s   left child</span></span><br><span class="line"><span class="string"> 1(R) is  2&#x27;s   left child</span></span><br><span class="line"><span class="string"> 3(R) is  2&#x27;s  right child</span></span><br><span class="line"><span class="string"> 7(R) is  4&#x27;s  right child</span></span><br><span class="line"><span class="string"> 5(B) is  7&#x27;s   left child</span></span><br><span class="line"><span class="string"> 6(R) is  5&#x27;s  right child</span></span><br><span class="line"><span class="string"> 8(B) is  7&#x27;s  right child</span></span><br><span class="line"><span class="string"> 9(R) is  8&#x27;s  right child</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="红黑树的删除"><a class="headerlink" href="#红黑树的删除"></a>红黑树的删除</h3>
<ul>
<li>
<p><strong>情形</strong> <strong>1:</strong> N 是新的根。在这种情形下，我们就做完了。我们从所有路径去除了一个黑色节点，而新根是黑色的，所以性质都保持着。</p>
</li>
<li>
<p><strong>情形 2：<strong>S 是红色。在这种情形下我们在 N 的父亲上做左旋转，把红色兄弟转换成 N 的祖父，我们接着对调 N 的父亲和祖父的颜色。完成这两个操作后，尽管所有路径上黑色节点的数目没有改变，但现在 N 有了一个黑色的兄弟和一个红色的父亲（它的新兄弟是黑色因为它是红色 S 的一个儿子），所以我们可接下去按</strong>情形 4</strong>、<strong>情形 5</strong> 或<strong>情形 6</strong>来处理</p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607221638971.png" alt="情形2" loading="lazy"></p>
</li>
<li>
<p>**情形 3：**N 的父亲、S 和 S 的儿子都是黑色的，如图 4.1.4.2-3 所示。在这种情形下，我们简单的重绘 S 为红色</p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607221744982.png" alt="情形3" loading="lazy"></p>
</li>
<li>
<p>**情形 4：**S 和 S 的儿子都是黑色，但是 N 的父亲是红色，如图 4.1.4.2-4 所示，在这种情形下，我们简单的交换 N 的兄弟和父亲的颜色</p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607223750942.png" alt="情形4" loading="lazy"></p>
</li>
<li>
<p><strong>情形 5：<strong>S 是黑色，S 的左儿子是红色，S 的右儿子是黑色，而 N 是它父亲的左儿子，如图4.1.4.2-5 所示。在这种情形下我们在 S 上做右旋转，这样 S 的左儿子成为 S 的父亲和 N 的新兄弟。我们接着交换 S 和它的新父亲的颜色。所有路径仍有同样数目的黑色节点，但是现在N 有了一个黑色兄弟，他的右儿子是红色的，所以我们进入了</strong>情形 6</strong>。N 和它的父亲都不受这个变换的影响</p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607223930184.png" alt="情形5" loading="lazy"></p>
</li>
<li>
<p><strong>情形 6：</strong> S 是黑色，S 的右儿子是红色，而 N 是它父亲的左儿子，如图 4.1.4.2-6 所示。在这种情形下我们在 N 的父亲上做左旋转，这样 S 成为 N 的父亲（P）和 S 的右儿子的父亲。我们接着交换 N 的父亲 P（无论 P 是黑色还是红色都可以，所以图 4.1.4.2-6 中标注 R/B,即 red或者 black 都可以）和 S 的颜色，并使 S 的右儿子为黑色</p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607224223590.png" alt="情形6" loading="lazy"></p>
</li>
</ul>
<p><strong>图形总结：</strong></p>
<p><img src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/image-20240607224329501.png" alt="图形总结" loading="lazy"></p>
<ul>
<li><strong>N 就是 NIL</strong></li>
<li>总结：
<ul>
<li><strong>p 黑， s 红</strong>， p 左旋</li>
<li><strong>p 黑， s 黑</strong>， s 变红</li>
<li><strong>p 红， s 黑</strong>， 颜色互换</li>
<li><strong>s 黑， SL 红</strong>， s 右旋， s、SL 颜色互换</li>
<li><strong>s 黑， SR 红</strong>， p 左旋， p、s 颜色互换</li>
</ul>
</li>
</ul>
<hr>
</article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src="https://i.postimg.cc/xTTVcM6Z/f3470ca99adacc28c5d34208621c195.jpg"></a><div class="post-copyright__author_name">coo1heisenberg's Blog</div><div class="post-copyright__author_desc">Diligence can make up for clumsiness!</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本文是原创文章，采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>协议，完整转载请注明来自<a href="/">coo1heisenberg's Blog</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python%E5%9F%BA%E7%A1%80/"><span class="tags-punctuation"></span>Python基础<span class="tagsPageCount">4</span></a></div></div><div class="social-share"></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/06/11/Python-03/"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">03 Python的UDP与TCP通信（包括pygame的使用）</div></div></a></div><div class="next-post pull-right"><a href="/2024/05/28/Python-01/"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">01 Python面向对象编程</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="solitude st-star-smile-fill"></i><span>喜欢这篇的人也看了</span><div class="relatedPosts-link"><a onclick="event.preventDefault(); toRandomPost();" href="javascript:void(0);" rel="external nofollow" data-pjax-state="">随便逛逛</a></div></div><div class="relatedPosts-list"><div><a href="/2024/06/11/Python-03/" title="03 Python的UDP与TCP通信（包括pygame的使用）"><img class="cover" src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/python.png" alt="cover"><div class="content is-center"><div class="title">03 Python的UDP与TCP通信（包括pygame的使用）</div></div></a></div><div><a href="/2024/05/28/Python-01/" title="01 Python面向对象编程"><img class="cover" src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/python.png" alt="cover"><div class="content is-center"><div class="title">01 Python面向对象编程</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">sayhello.morning</div></div></div><div class="avatar-img-group"><img class="avatar-img" alt="头像" src="https://i.postimg.cc/xTTVcM6Z/f3470ca99adacc28c5d34208621c195.jpg"><div class="avatar-sticker"><img class="avatar-sticker-img" src="https://7.isyangs.cn/34/65f2e4e0423cc-34.png" alt="心情贴纸"></div></div><div class="author-info__description_group"><div class="author-info__description">菜鸡的自我救赎...</div><div class="author-info__description2"></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about/"><div class="author-info__name">Coo1heisenberg’s BLOG</div><div class="author-info__desc">Diligence can make up for clumsiness!</div></a><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/coo1heisenberg" title="Github"><i class="solitude  st-github-line"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="solitude st-menu-line"></i><span>文章目录</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Python常用数据结构与算法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%88"><span class="toc-text">栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">二叉树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-text">排序算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">冒泡排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-text">选择排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-text">插入排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="toc-text">希尔排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="toc-text">快速排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F"><span class="toc-text">堆排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">归并排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-text">计数排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E6%97%B6%E9%97%B4%E6%AF%94%E8%BE%83"><span class="toc-text">排序算法的时间比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-text">常见面试题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE"><span class="toc-text">二分查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E6%9F%A5%E6%89%BE"><span class="toc-text">哈希查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sort-%E5%B8%B8%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">sort 常用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%8E%92%E5%BA%8F-Sorting-Basics"><span class="toc-text">基本排序 Sorting Basics</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E5%86%85%E5%AD%98%E5%AD%98%E5%82%A8%E5%8F%8A%E5%88%97%E8%A1%A8%E7%9A%84%E7%AE%97%E6%B3%95%E6%95%88%E7%8E%87"><span class="toc-text">列表内存存储及列表的算法效率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#key-%E5%87%BD%E6%95%B0-Key-Functions"><span class="toc-text">key 函数 Key Functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E4%B8%AD%E6%B7%B7%E5%90%88-list-%E6%8E%92%E5%BA%8F"><span class="toc-text">字典中混合 list 排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List-%E4%B8%AD%E6%B7%B7%E5%90%88%E5%AD%97%E5%85%B8%E6%8E%92%E5%BA%8F"><span class="toc-text">List 中混合字典排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A2%E9%BB%91%E6%A0%91"><span class="toc-text">红黑树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">红黑树的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E6%8F%92%E5%85%A5"><span class="toc-text">红黑树的插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-text">红黑树的删除</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="solitude st-map-line"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/06/21/Plan-00/" title="Plan（2024/6 - 2024/8）"><img alt="Plan（2024/6 - 2024/8）" src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/plan.png"></a><div class="content"><a class="title" href="/2024/06/21/Plan-00/" title="Plan（2024/6 - 2024/8）">Plan（2024/6 - 2024/8）</a><a class="article-recent_post_categories" href="/2024/06/21/Plan-00/">阶段性计划</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/21/Python-05/" title="05 Python的正则表达式"><img alt="05 Python的正则表达式" src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/python.png"></a><div class="content"><a class="title" href="/2024/06/21/Python-05/" title="05 Python的正则表达式">05 Python的正则表达式</a><a class="article-recent_post_categories" href="/2024/06/21/Python-05/">Python</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/19/Python-04/" title="04 Python的多进程/多线程/协程"><img alt="04 Python的多进程/多线程/协程" src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/python.png"></a><div class="content"><a class="title" href="/2024/06/19/Python-04/" title="04 Python的多进程/多线程/协程">04 Python的多进程/多线程/协程</a><a class="article-recent_post_categories" href="/2024/06/19/Python-04/">Python</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/18/00-%E5%8D%8E%E5%93%A5%E7%94%9F%E4%BF%A1%E5%9F%BA%E7%A1%80%E7%8F%AD/" title="00 生信相关的R语言基础"><img alt="00 生信相关的R语言基础" src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/gene_base.png"></a><div class="content"><a class="title" href="/2024/06/18/00-%E5%8D%8E%E5%93%A5%E7%94%9F%E4%BF%A1%E5%9F%BA%E7%A1%80%E7%8F%AD/" title="00 生信相关的R语言基础">00 生信相关的R语言基础</a><a class="article-recent_post_categories" href="/2024/06/18/00-%E5%8D%8E%E5%93%A5%E7%94%9F%E4%BF%A1%E5%9F%BA%E7%A1%80%E7%8F%AD/">生信分析</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/11/Python-03/" title="03 Python的UDP与TCP通信（包括pygame的使用）"><img alt="03 Python的UDP与TCP通信（包括pygame的使用）" src="https://coo1heisenberg-blog.oss-cn-shanghai.aliyuncs.com/python.png"></a><div class="content"><a class="title" href="/2024/06/11/Python-03/" title="03 Python的UDP与TCP通信（包括pygame的使用）">03 Python的UDP与TCP通信（包括pygame的使用）</a><a class="article-recent_post_categories" href="/2024/06/11/Python-03/">Python</a></div></div></div></div></div></div></main><footer id="footer"><div id="st-footer-bar"><div class="footer-logo"><span>Solitude</span></div><div class="footer-bar-description">来自 Heisenberg 的原创文章</div><a class="footer-bar-link" href="/about/">了解更多</a></div><div id="footer_deal"></div><div id="st-footer"><div class="footer-group"><h3 class="footer-title">导航</h3><div class="footer-links"><a class="footer-item" href="/archives/" title="归档">归档</a><a class="footer-item" href="/categories/" title="分类">分类</a><a class="footer-item" href="/tags/" title="标签">标签</a></div></div><div class="footer-group"><h3 class="footer-title">服务</h3><div class="footer-links"><a class="footer-item" target="_blank" rel="noopener" href="https://aliyun.com/" title="阿里云">阿里云</a></div></div><div class="footer-group"><h3 class="footer-title">支持</h3><div class="footer-links"><a class="footer-item" href="/about/" title="打赏记录">打赏记录</a></div></div><div class="footer-group"><h3 class="footer-title">协议</h3><div class="footer-links"><a class="footer-item" href="/cookies/" title="Cookies">Cookies</a><a class="footer-item" href="/privacy/" title="用户协议">用户协议</a><a class="footer-item" href="/copyright/" title="版权协议">版权协议</a></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">© 2024 By&nbsp;<a class="footer-bar-link" href="/">Coo1heisenberg’s BLOG</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/valor-x/hexo-theme-solitude" alt="主题">主题</a><a class="footer-bar-link cc" href="/null" aria-label="copyright"><i class="solitude st-copyright-line"></i><i class="solitude st-creative-commons-by-line"></i><i class="solitude st-creative-commons-nc-line"></i><i class="solitude st-creative-commons-nd-line"></i></a></div></div></div></footer></div><!-- right_menu--><!-- inject body--><div><script src="/js/utils.js?v=1.10.6"></script><script src="/js/main.js?v=1.10.6"></script><script src="/js/third_party/waterfall.min.js?v=1.10.6"></script><script src="//open.lightxi.com/cdnjs/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script src="/js/third_party/universe.min.js?v=1.10.6"></script><script>dark()
</script><script src="//open.lightxi.com/cdnjs/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js"><script>(() => {
    document.querySelectorAll('#article-container span.katex-display').forEach(item => {
        utils.wrap(item, 'div', {class: 'katex-wrap'})
    })
})();
</script></script><script src="//open.lightxi.com/cdnjs/ajax/libs/node-snackbar/0.1.16/snackbar.min.js"></script><script src="//open.lightxi.com/cdnjs/ajax/libs/Swiper/11.0.5/swiper-bundle.min.js"></script><script>var meting_api = 'https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r';</script><script src="//open.lightxi.com/cdnjs/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script><script src="//open.lightxi.com/cdnjs/ajax/libs/meting/2.0.1/Meting.min.js"></script><script src="//open.lightxi.com/cdnjs/ajax/libs/pace/1.2.4/pace.min.js"></script><div class="js-pjax"><script defer pjax src="//open.lightxi.com/cdnjs/ajax/libs/busuanzi/2.3.0/bsz.pure.mini.min.js"></script></div></div><!-- newest comment--><!-- pjax--><script>const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: ['title','#body-wrap','#site-config','meta[name="description"]','.js-pjax','meta[property^="og:"]','#config-diff'],
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()

    document.querySelectorAll('script[data-pjax]').forEach(item => {
        const newScript = document.createElement('script')
        const content = item.text || item.textContent || item.innerHTML || ""
        Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
        newScript.appendChild(document.createTextNode(content))
        item.parentNode.replaceChild(newScript, item)
    })

    GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- theme--><script>initTheme = () => {
    let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const cachedMode = utils.saveToLocal.get('theme');
    if (cachedMode === undefined) {
        const nowMode =
            isDarkMode ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', nowMode);
    } else {
        document.documentElement.setAttribute('data-theme', cachedMode);
    }
    is_rm && rm.mode(cachedMode === 'dark' && isDarkMode)
}
initTheme()</script><!-- google adsense--><!-- search--><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="solitude st-close-fill"></i></button></nav><div class="search-wrap"><div class="search-box"><input class="search-box-input" id="search-input" type="text" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder="输入关键词快速查找"></div><div id="search-results"><div id="search-hits"></div></div><div id="search-pagination"></div><div id="search-tips"></div></div></div><div id="search-mask"></div></div><script src="/js/search/local.js?v=1.10.6"></script><!-- Tianli-Talk--><!-- music--></body></html><script>const posts=["2024/06/21/Plan-00/","2024/06/21/Python-05/","2024/06/19/Python-04/","2024/06/18/00-华哥生信基础班/","2024/06/11/Python-03/","2024/06/05/Python-02/","2024/05/28/Python-01/","2024/05/28/力扣刷题总结/","2024/05/25/Python-00/","2024/05/20/剑指offert题解/","2024/05/15/MyBatisPlus/","2024/05/13/DesignPattern/","2024/05/13/Docker/","2024/05/13/Nginx/","2024/05/13/Linux/","2024/05/13/Spring-Cloud/","2024/05/13/Spring-boot/","2024/05/13/Spring-MVC/","2024/05/13/Spring事务/","2024/05/13/Spring-AOP/","2024/05/13/Spring-IOC-DI/","2024/05/13/JavaEE-MVC/","2024/05/13/JavaEE-WebTools/","2024/05/13/JavaEE-conversation/","2024/05/13/JavaEE-response/","2024/05/13/JavaEE-request/","2024/05/13/JavaEE-Servlet/","2024/05/12/测试文章：如何使用Hexo发博客/"];function toRandomPost(){ pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]); }</script>